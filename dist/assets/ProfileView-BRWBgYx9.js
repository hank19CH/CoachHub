import{d as j,u as M,m as B,s as h,c as r,a as t,t as n,p as V,b as l,f as d,F as _,n as L,x as P,i as q,y as z,l as F,k as N,r as x,q as f,j as S,o as s}from"./index-B256TZ31.js";const E={key:0,class:"p-6 text-center"},A={key:1,class:"pb-6"},H={class:"p-6 text-center"},I={class:"w-24 h-24 mx-auto mb-4"},R=["src","alt"],U={key:1,class:"w-full h-full rounded-full bg-gradient-to-br from-summit-600 to-summit-800 flex items-center justify-center text-white font-bold text-2xl ring-4 ring-white shadow-lg"},D={class:"font-display text-2xl font-bold text-gray-900"},O={class:"text-gray-500"},Q={class:"mt-2"},T={key:0,class:"mt-4 text-gray-700 max-w-sm mx-auto"},G={key:1,class:"mt-4 max-w-sm mx-auto text-left bg-gray-50 rounded-xl p-4 space-y-3"},J={key:0},K={class:"text-sm text-gray-700"},W={key:1,class:"flex gap-4 text-sm text-gray-600"},X={key:0,class:"flex items-center gap-1"},Y={key:1,class:"flex items-center gap-1"},Z={key:2},$={class:"flex flex-wrap gap-2"},ee=["href"],te={key:4},se={class:"mt-6 flex gap-3 justify-center"},re=j({__name:"ProfileView",setup(ae){const p=F(),k=N(),c=M(),g=x(null),a=x(null),m=x(!0),v=f(()=>p.params.username?p.params.username===c.profile?.username:!0),o=f(()=>v.value?c.profile:g.value),b=f(()=>o.value?o.value.display_name.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2):"?");B(async()=>{!v.value&&p.params.username?await C(p.params.username):(m.value=!1,c.isCoach&&c.user&&await w(c.user.id))});async function C(u){try{m.value=!0;const{data:e,error:i}=await h.from("profiles").select("*").eq("username",u).single();if(i)throw i;g.value=e,e.user_type==="coach"&&await w(e.id)}catch(e){console.error("Error fetching profile:",e),k.push("/404")}finally{m.value=!1}}async function w(u){try{const{data:e,error:i}=await h.from("coach_profiles").select("*").eq("id",u).single();if(i)throw i;a.value=e}catch(e){console.error("Error fetching coach info:",e)}}return(u,e)=>{const i=S("router-link");return m.value?(s(),r("div",E,[...e[0]||(e[0]=[t("div",{class:"animate-pulse space-y-4"},[t("div",{class:"w-24 h-24 mx-auto rounded-full bg-gray-200"}),t("div",{class:"h-6 w-32 mx-auto bg-gray-200 rounded"}),t("div",{class:"h-4 w-24 mx-auto bg-gray-200 rounded"})],-1)])])):o.value?(s(),r("div",A,[t("div",H,[t("div",I,[o.value.avatar_url?(s(),r("img",{key:0,src:o.value.avatar_url,alt:o.value.display_name,class:"w-full h-full rounded-full object-cover ring-4 ring-white shadow-lg"},null,8,R)):(s(),r("div",U,n(b.value),1))]),t("h1",D,n(o.value.display_name),1),t("p",O,"@"+n(o.value.username),1),t("div",Q,[t("span",{class:V(["badge",{"badge-coach":o.value.user_type==="coach","bg-blue-100 text-blue-700":o.value.user_type==="athlete","bg-gray-100 text-gray-700":o.value.user_type==="follower"}])},n(o.value.user_type.charAt(0).toUpperCase()+o.value.user_type.slice(1)),3)]),o.value.bio?(s(),r("p",T,n(o.value.bio),1)):l("",!0),o.value.user_type==="coach"&&a.value?(s(),r("div",G,[a.value.qualifications?(s(),r("div",J,[e[1]||(e[1]=t("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1"},"Qualifications",-1)),t("p",K,n(a.value.qualifications),1)])):l("",!0),a.value.experience_years||a.value.location?(s(),r("div",W,[a.value.experience_years?(s(),r("span",X,[e[2]||(e[2]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d(" "+n(a.value.experience_years)+" years ",1)])):l("",!0),a.value.location?(s(),r("span",Y,[e[3]||(e[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),d(" "+n(a.value.location),1)])):l("",!0)])):l("",!0),a.value.specialties&&a.value.specialties.length>0?(s(),r("div",Z,[e[4]||(e[4]=t("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2"},"Specialties",-1)),t("div",$,[(s(!0),r(_,null,L(a.value.specialties,y=>(s(),r("span",{key:y,class:"px-2 py-1 bg-summit-100 text-summit-800 rounded-full text-xs font-medium"},n(y),1))),128))])])):l("",!0),a.value.website_url?(s(),r("a",{key:3,href:a.value.website_url,target:"_blank",rel:"noopener noreferrer",class:"text-sm text-summit-700 hover:text-summit-800 inline-flex items-center gap-1 transition-colors"},[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1),d(" Visit website ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])],8,ee)):l("",!0),a.value.accepts_athletes&&!v.value?(s(),r("div",te,[...e[6]||(e[6]=[t("span",{class:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})]),d(" Accepting new athletes ")],-1)])])):l("",!0)])):l("",!0),t("div",se,[v.value?(s(),P(i,{key:0,to:"/settings",class:"btn-secondary"},{default:q(()=>[...e[7]||(e[7]=[d(" Edit Profile ",-1)])]),_:1})):(s(),r(_,{key:1},[e[8]||(e[8]=t("button",{class:"btn-primary"},"Follow",-1)),e[9]||(e[9]=t("button",{class:"btn-secondary"},"Message",-1))],64))])]),e[10]||(e[10]=z('<div class="flex justify-center gap-8 py-4 border-y border-feed-border"><div class="text-center"><p class="font-bold text-gray-900">0</p><p class="text-sm text-gray-500">Posts</p></div><div class="text-center"><p class="font-bold text-gray-900">0</p><p class="text-sm text-gray-500">Followers</p></div><div class="text-center"><p class="font-bold text-gray-900">0</p><p class="text-sm text-gray-500">Following</p></div></div><div class="p-6 text-center text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 mx-auto mb-3 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><p>No posts yet</p></div>',2))])):l("",!0)}}});export{re as default};
